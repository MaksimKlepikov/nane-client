(function(e){function t(t){for(var r,o,u=t[0],i=t[1],c=t[2],l=0,m=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={2:0},a={2:0},s=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{1:"bcca410d",3:"e88450e4",4:"feaa4a0f",5:"64cdbae5",6:"fdee92ac"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={1:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{1:"47c3eddf",3:"31d6cfe0",4:"31d6cfe0",5:"31d6cfe0",6:"31d6cfe0"}[e]+".css",a=i.p+r,s=document.getElementsByTagName("link"),u=0;u<s.length;u++){var c=s[u],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===a))return t()}var m=document.getElementsByTagName("style");for(u=0;u<m.length;u++){c=m[u],l=c.getAttribute("data-href");if(l===r||l===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete o[e],f.parentNode.removeChild(f),n(s)},f.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var m=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",m.name="ChunkLoadError",m.type=r,m.request=o,n[1](m)}a[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/nane-client/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var m=0;m<c.length;m++)t(c[m]);var f=l;s.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"2f39":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchAll",(function(){return I})),n.d(r,"addRoom",(function(){return j}));var o={};n.r(o),n.d(o,"fetchByRoom",(function(){return G})),n.d(o,"newMessage",(function(){return X})),n.d(o,"sendMessage",(function(){return ee})),n.d(o,"outdateAll",(function(){return ne}));var a={};n.r(a),n.d(a,"login",(function(){return de})),n.d(a,"relogin",(function(){return ge})),n.d(a,"loginAsAnonymous",(function(){return ve})),n.d(a,"logout",(function(){return ye})),n.d(a,"switchCurrentUserTo",(function(){return xe}));var s={};n.r(s),n.d(s,"connect",(function(){return je})),n.d(s,"sendJSON",(function(){return De}));var u=n("c973"),i=n.n(u),c=(n("96cf"),n("ac1f"),n("5319"),n("5c7d"),n("7d6e"),n("e54f"),n("985d"),n("4e2f"),n("31cd"),n("2b0e")),l=n("1f91"),m=n("42d2"),f=n("b05d"),d=n("436b"),p=n("2a19");c["a"].use(f["a"],{config:{notify:{}},lang:l["a"],iconSet:m["a"],plugins:{Dialog:d["a"],Notify:p["a"]}});var g,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},v=[],w=n("ded3"),y=n.n(w),b=n("2f62"),x={name:"App",data:function(){return{}},created:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loginAsAnonymous();case 2:case"end":return t.stop()}}),t)})))()},methods:y()({},Object(b["b"])("user",{loginAsAnonymous:"loginAsAnonymous"}))},R=x,k=n("2877"),S=Object(k["a"])(R,h,v,!1,null,null,null),C=S.exports,T=function(){return{rooms:[]}},_=(n("b0c0"),{getRooms:function(e){return e.rooms},isRoomExist:function(e){return function(t){return e.rooms.some((function(e){var n=e.name;return n===t}))}}}),E=n("9523"),O=n.n(E),M=(n("4e82"),"SET_ALL"),L="ADD_ROOM",A=(g={},O()(g,M,(function(e,t){e.rooms=t.sort((function(e,t){return e.name.localeCompare(t.name)}))})),O()(g,L,(function(e,t){e.rooms.push(t)})),g),q=(n("d81d"),n("bc3a")),U=n.n(q);function I(e){return N.apply(this,arguments)}function N(){return N=i()(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,U.a.get("/rooms");case 3:r=e.sent,o=r.data.result,n(M,o.map((function(e){return y()(y()({},e),{},{last_message:y()(y()({},e.last_message),{},{created:new Date(e.created)})})})));case 6:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function j(e,t){return B.apply(this,arguments)}function B(){return B=i()(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r(L,y()(y()({},n),{},{last_message:y()(y()({},n.last_message),{},{created:new Date(n.created)})}));case 2:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}var D,P={namespaced:!0,state:T,getters:_,mutations:A,actions:r},Q=function(){return{messagesByRoom:{}}},$={getMessagesByRoom:function(e){return function(t){var n,r;return null!==(n=null===(r=e.messagesByRoom[t])||void 0===r?void 0:r.messages)&&void 0!==n?n:[]}},isMessagesOutdated:function(e){return function(t){var n,r;return null===(n=null===(r=e.messagesByRoom[t])||void 0===r?void 0:r.isOutdated)||void 0===n||n}},isRoomExist:function(e){return function(t){return e.messagesByRoom[t]}}},z=n("278c"),J=n.n(z),K=(n("4fad"),"SET_ALL_FOR_ROOM"),H="SET_ALL_OUTDATED",V="ADD_MESSAGE",Y="SET_ROOM",F=(D={},O()(D,K,(function(e,t){var n=e.messagesByRoom,r=t.roomId,o=t.messages;c["a"].set(n,r,y()(y()({},n[r]),{},{isOutdated:!1,messages:o}))})),O()(D,H,(function(e){for(var t=e.messagesByRoom,n=0,r=Object.entries(t);n<r.length;n++){var o=J()(r[n],2),a=o[1];a.isOutdated=!0}})),O()(D,V,(function(e,t){var n=e.messagesByRoom;n[t.room].messages.push(t)})),O()(D,Y,(function(e,t){var n=e.messagesByRoom;c["a"].set(n,t,{isOutdated:!0,messages:[]})})),D);function G(e,t){return W.apply(this,arguments)}function W(){return W=i()(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,U.a.get("rooms/".concat(n,"/history"));case 3:o=e.sent,a=o.data.result,r(K,{roomId:n,messages:a.map((function(e){return y()(y()({},e),{},{id:e.room+e.sender.username+e.created,created:new Date(e.created)})})).sort((function(e,t){return e.created-t.created}))});case 6:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function X(e,t){return Z.apply(this,arguments)}function Z(){return Z=i()(regeneratorRuntime.mark((function e(t,n){var r,o,a,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.getters,a=t.rootGetters,s=t.dispatch,u=y()(y()({},n),{},{id:n.room+n.sender.username+n.created,created:new Date(n.created)}),a["room/isRoomExist"](u.room)){e.next=5;break}return e.next=5,s("room/addRoom",{name:u.room,last_message:u},{root:!0});case 5:o.isRoomExist(u.room)||r(Y,u.room),r(V,u);case 7:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return te=i()(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.dispatch,e.next=3,r("websocket/sendJSON",JSON.stringify(n),{root:!0});case 3:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return re=i()(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,n(H);case 2:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}var oe,ae={namespaced:!0,state:Q,getters:$,mutations:F,actions:o},se=function(){return{currentUser:null,users:[]}},ue={getUsers:function(e){return e.users},getCurrentUser:function(e){return e.currentUser},isLoggedIn:function(e){return e.currentUser}},ie=(n("4de4"),"SET_CURRENT_USER"),ce="DELETE_CURRENT_USER",le="ADD_USER",me="DELETE_USER",fe=(oe={},O()(oe,ie,(function(e,t){e.currentUser=t})),O()(oe,ce,(function(e){e.currentUser=null})),O()(oe,me,(function(e,t){e.users=e.users.filter((function(e){var n=e.username;return n!==t.username}))})),O()(oe,le,(function(e,t){e.users.push(t)})),oe);n("7db0");function de(e,t){return pe.apply(this,arguments)}function pe(){return pe=i()(regeneratorRuntime.mark((function e(t,n){var r,o,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.dispatch,a=t.getters,s={username:n},"anonymous"!==s.username){e.next=4;break}return e.abrupt("return",o("loginAsAnonymous"));case 4:o("websocket/connect",s.username,{root:!0}),r(ie,s),a.getUsers.some((function(e){return e.username===s.username}))||r(le,s);case 7:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function ge(e){return he.apply(this,arguments)}function he(){return he=i()(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.dispatch,r=t.getters,r.isLoggedIn){e.next=3;break}return e.abrupt("return",n("loginAsAnonymous"));case 3:return e.abrupt("return",n("login",r.getCurrentUser.username));case 4:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}function ve(e){return we.apply(this,arguments)}function we(){return we=i()(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,r=t.dispatch,r("websocket/connect","anonymous",{root:!0}),n(ce);case 3:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}function ye(e){return be.apply(this,arguments)}function be(){return be=i()(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.getters,o=t.commit,r.isLoggedIn&&o(me,r.getCurrentUser),e.next=4,n("loginAsAnonymous");case 4:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function xe(e,t){return Re.apply(this,arguments)}function Re(){return Re=i()(regeneratorRuntime.mark((function e(t,n){var r,o,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.getters,a=t.dispatch,s=o.getUsers.find((function(e){return e.username===n})),s){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a("login",s.username);case 6:r(ie,s);case 7:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}var ke,Se={namespaced:!0,state:se,getters:ue,mutations:fe,actions:a},Ce=function(){return{maxLength:{message:10500,roomName:50,username:50},pageSize:15}},Te={getMaxLengthSettings:function(e){return e.maxLength},getPageSize:function(e){return e.pageSize}},_e=n("4a1e"),Ee=n.n(_e),Oe=n("d529"),Me={namespaced:!0,state:Ce,getters:Te,mutations:Ee.a,actions:Oe},Le=function(){return{isConnected:!1,socket:null}},Ae={getSocket:function(e){return e.socket},isNoConnection:function(e){return!e.isConnected}},qe="SET_SOCKET",Ue="SET_CONNECTED",Ie="SET_DISCONNECTED",Ne=(ke={},O()(ke,qe,(function(e,t){e.socket=t})),O()(ke,Ue,(function(e){e.isConnected=!0})),O()(ke,Ie,(function(e){e.isConnected=!1})),ke);function je(e,t){return Be.apply(this,arguments)}function Be(){return Be=i()(regeneratorRuntime.mark((function e(t,n){var r,o,a,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,o=t.dispatch,a=t.getters,s=a.getSocket,s&&s.close(),u=new WebSocket("wss://nane.tada.team/ws"+"?username=".concat(n)),r(qe,u),u.onopen=function(){r(Ue)},u.onerror=function(){r(Ie)},u.onclose=i()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(a.getSocket.readyState>1)){e.next=4;break}return e.next=3,o("message/outdateAll",null,{root:!0});case 3:setTimeout((function(e){return o("connect",n)}),1e3);case 4:case"end":return e.stop()}}),e)}))),u.addEventListener("message",(function(e){var t=e.data,n=JSON.parse(t);o("message/newMessage",n,{root:!0})}));case 9:case"end":return e.stop()}}),e)}))),Be.apply(this,arguments)}function De(e,t){return Pe.apply(this,arguments)}function Pe(){return Pe=i()(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.getters,o=r.getSocket,o.send(n);case 3:case"end":return e.stop()}}),e)}))),Pe.apply(this,arguments)}var Qe={namespaced:!0,state:Le,getters:Ae,mutations:Ne,actions:s};c["a"].use(b["a"]);var $e=function(){var e=new b["a"].Store({strict:!1,modules:{room:P,message:ae,user:Se,settings:Me,websocket:Qe}});return e},ze=n("8c4f"),Je=(n("e260"),n("d3b7"),n("e6cf"),n("3ca3"),n("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative-position column no-wrap"},[n("div",{staticClass:"col"},[n("q-infinite-scroll",{ref:"chatScroll",staticClass:"col full-height column no-wrap scroll relative-position q-px-xs-sm q-pl-md-md bg-grey-3",attrs:{offset:500,reverse:""},on:{load:e.loadMore}},[n("template",{slot:"loading"},[n("div",{staticClass:"row justify-center q-my-md"},[n("q-spinner",{attrs:{color:"primary",name:"dots",size:"40px"}})],1)]),n("q-space",{staticClass:"col"}),n("div",{staticClass:"row"},e._l(e.messagesToShow,(function(t){return n("chat-message",{key:t.id,staticClass:"col-12 col-md-7",attrs:{message:t,"current-user":e.getCurrentUser}})})),1)],2)],1),n("q-inner-loading",{staticClass:"fixed-center transparent",attrs:{showing:e.isMessagesLoading}},[n("q-spinner-tail",{attrs:{color:"primary",size:"2em"}})],1),e.isLoggedIn?n("q-toolbar",{staticClass:"col-auto row q-py-xs text-black"},[n("q-input",{staticClass:"col-grow q-mr-sm",attrs:{maxlength:e.maxLength.message,"input-style":"max-height:50vh",rounded:"",outlined:"",dense:"",autogrow:"","bg-color":"white",placeholder:"Type a message (Ctrl+Enter to send)"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onInputEnterKey(t)}},model:{value:e.messageToSendText,callback:function(t){e.messageToSendText=t},expression:"messageToSendText"}}),n("q-btn",{attrs:{round:"",disable:e.isNoConnection||0===e.messageToSendText.length,flat:"",color:"primary",icon:"send"},on:{click:e.sendNewMessage,keypress:function(e){e.preventDefault()}}})],1):n("q-toolbar",{staticClass:"col-auto row q-py-xs text-black"},[n("q-btn",{staticClass:"col",attrs:{rounded:"","no-caps":"",unelevated:"",disable:e.isNoConnection,color:"white","text-color":"primary",label:"Join"},on:{click:function(t){return e.$emit("ask-login")}}})],1)],1)}),Ke=[],He=(n("fb6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-item",{staticClass:"q-my-md rounded-borders chat__message",class:{chat__message_bg_my:e.isMyMessage},attrs:{dark:e.isMyMessage}},[n("q-item-section",[n("q-item-label",[n("span",{staticClass:"text-weight-bold"},[e._v(e._s(e.message.sender.username))])]),n("q-item-label",[e._v("\n      "+e._s(e.message.text)+"\n    ")]),n("q-item-label",{staticClass:"text-right",attrs:{caption:""}},[n("span",{},[e._v(e._s(e.timestamp))])])],1),e.loading?n("q-item-section",{attrs:{side:""}},[n("div",{staticClass:"row justify-end q-my-md"},[n("q-spinner",{attrs:{color:"primary",name:"dots",size:"20px"}})],1)]):e._e()],1)}),Ve=[],Ye=n("bd4c"),Fe={props:{message:{required:!0,type:Object,default:function(){return null}},currentUser:{type:Object,default:function(){return null}},loading:{type:Boolean,default:!1}},data:function(){return{}},computed:{timestamp:function(){return Ye["a"].formatDate(this.message.created,"HH:mm DD-MM-YYYY")},isMyMessage:function(){var e;return this.message.sender.username===(null===(e=this.currentUser)||void 0===e?void 0:e.username)}}},Ge=Fe,We=(n("3142"),n("66e5")),Xe=n("4074"),Ze=n("0170"),et=n("0d59"),tt=n("eebe"),nt=n.n(tt),rt=Object(k["a"])(Ge,He,Ve,!1,null,null,null),ot=rt.exports;nt()(rt,"components",{QItem:We["a"],QItemSection:Xe["a"],QItemLabel:Ze["a"],QSpinner:et["a"]});var at={components:{ChatMessage:ot},beforeRouteUpdate:function(e,t,n){var r=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n(),r.pagesLoaded=1,r.$refs.chatScroll.reset(),r.$refs.chatScroll.resume(),t.next=6,r.loadRoomMessages(e.params.roomId);case 6:r.scrollChatToBottom();case 7:case"end":return t.stop()}}),t)})))()},data:function(){return{pagesLoaded:1,isMessagesLoading:!0,messageToSendText:""}},computed:y()(y()(y()(y()(y()({},Object(b["c"])("user",{isLoggedIn:"isLoggedIn",getCurrentUser:"getCurrentUser"})),Object(b["c"])("message",{getMessagesByRoom:"getMessagesByRoom",isMessagesOutdated:"isMessagesOutdated"})),Object(b["c"])("settings",{maxLength:"getMaxLengthSettings",pageSize:"getPageSize"})),Object(b["c"])("websocket",{isNoConnection:"isNoConnection"})),{},{roomId:function(){return this.$route.params.roomId},messagesToShow:function(){return this.getMessagesByRoom(this.roomId).slice(-this.messagesToShowCount)},messagesTotalCount:function(){return this.getMessagesByRoom(this.roomId).length},messagesToShowCount:function(){return this.pageSize*this.pagesLoaded}}),watch:{isNoConnection:function(e,t){var n=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return t.next=3,n.loadRoomMessages(n.roomId);case 3:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadRoomMessages(e.roomId);case 2:e.scrollChatToBottom();case 3:case"end":return t.stop()}}),t)})))()},methods:y()(y()({},Object(b["b"])("message",{fetchByRoom:"fetchByRoom",sendMessage:"sendMessage"})),{},{loadRoomMessages:function(e){var t=this;return i()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e&&t.isMessagesOutdated(e)){n.next=3;break}return t.isMessagesLoading=!1,n.abrupt("return");case 3:return t.isMessagesLoading=!0,n.next=6,t.fetchByRoom(e);case 6:t.isMessagesLoading=!1,t.$refs.chatScroll.resume();case 8:case"end":return n.stop()}}),n)})))()},scrollChatToBottom:function(){var e=this.$refs.chatScroll.$el;e.scrollTop=e.scrollHeight},loadMore:function(e,t){this.pagesLoaded=e;var n=this.messagesTotalCount<=this.messagesToShowCount;t(n)},onInputEnterKey:function(e){var t=this;return i()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.ctrlKey&&!e.metaKey||13!==e.keyCode&&10!==e.keyCode){n.next=3;break}return n.next=3,t.sendNewMessage();case 3:case"end":return n.stop()}}),n)})))()},sendNewMessage:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isNoConnection){t.next=2;break}return t.abrupt("return");case 2:return n={created:new Date,sender:{username:e.getCurrentUser.username},room:e.roomId,text:e.messageToSendText},t.next=5,e.sendMessage(n);case 5:e.messageToSendText="";case 6:case"end":return t.stop()}}),t)})))()}})},st=at,ut=n("ef35"),it=n("2c91"),ct=n("74f7"),lt=n("007d"),mt=n("65c6"),ft=n("27f9"),dt=n("9c40"),pt=Object(k["a"])(st,Je,Ke,!1,null,null,null),gt=pt.exports;nt()(pt,"components",{QInfiniteScroll:ut["a"],QSpinner:et["a"],QSpace:it["a"],QInnerLoading:ct["a"],QSpinnerTail:lt["a"],QToolbar:mt["a"],QInput:ft["a"],QBtn:dt["a"]});var ht=[{path:"/",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"713b"))},children:[{path:"",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"8b24"))},children:[{path:"",name:"index",components:{"room-list-panel":function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"8909"))},"chat-panel":function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"bfd3"))}}},{path:"room/:roomId",name:"room",components:{"room-list-panel":function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"8909"))},"chat-panel":gt}}]}]},{path:"*",component:function(){return n.e(5).then(n.bind(null,"e51e"))}}],vt=ht;c["a"].use(ze["a"]);var wt=function(){var e=new ze["a"]({scrollBehavior:function(){return null},routes:vt,mode:"history",base:"/nane-client/"});return e},yt=function(){return bt.apply(this,arguments)};function bt(){return bt=i()(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof $e){e.next=6;break}return e.next=3,$e({Vue:c["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=$e;case 7:if(t=e.t0,"function"!==typeof wt){e.next=14;break}return e.next=11,wt({Vue:c["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=wt;case 15:return n=e.t1,t.$router=n,r={router:n,store:t,render:function(e){return e(C)}},r.el="#q-app",e.abrupt("return",{app:r,store:t,router:n});case 20:case"end":return e.stop()}}),e)}))),bt.apply(this,arguments)}var xt=function(){var e=i()(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.Vue,U.a.defaults.baseURL="https://nane.tada.team/api",n.prototype.$axios=U.a;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt="/nane-client/",kt=/\/\//,St=function(e){return(Rt+e).replace(kt,"/")};function Ct(){return Tt.apply(this,arguments)}function Tt(){return Tt=i()(regeneratorRuntime.mark((function e(){var t,n,r,o,a,s,u,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt();case 2:t=e.sent,n=t.app,r=t.store,o=t.router,a=!1,s=function(e){a=!0;var t=Object(e)===e?St(o.resolve(e).route.fullPath):e;window.location.href=t},u=window.location.href.replace(window.location.origin,""),i=[xt],l=0;case 11:if(!(!1===a&&l<i.length)){e.next=29;break}if("function"===typeof i[l]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,i[l]({app:n,router:o,store:r,Vue:c["a"],ssrContext:null,redirect:s,urlPath:u,publicPath:Rt});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:l++,e.next=11;break;case 29:if(!0!==a){e.next=31;break}return e.abrupt("return");case 31:new c["a"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),Tt.apply(this,arguments)}Ct()},3142:function(e,t,n){"use strict";n("63f5")},"31cd":function(e,t,n){},"4a1e":function(e,t){},"63f5":function(e,t,n){},d529:function(e,t){}});